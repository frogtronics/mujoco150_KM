<!-- This model is a template for a kassina maculata model 
     designed for interactive joint limit exploration.
     
     It adds several free bodies with contstraints to the existing
     bodies of KassinaFoot
-->

<!-- parent wrapper is always mujoco -->
<mujoco model="FrogTemplate">

    <option collision="all" gravity="0 0 0" timestep="0.0005"/>
    
    <compiler inertiagrouprange="0 1" strippath="true" texturedir="assets" meshdir="assets"/>
    
    <visual>
        <map znear="0.05"/>
	</visual>
	
	<asset>
        <texture name="tex_sky" type="skybox" builtin="flat" rgb1="1 1 1" rgb2="1 1 1" width="1" height="1"/>
        <texture name="tex_skin" file="skin.png"/>
        <material name="mat_skin" texture="tex_skin" shininess="0.9" rgba="1 1 1 1.0"/>
        <material name="mat_skin_plain" shininess="0.5" rgba="0.2824 0.2431 0.2157 1.0"/>
        <material name="mat_skin_transp" texture="tex_skin" shininess="0.9" rgba="1 1 1 0.2"/>
        <material name="mat_skin_plain_transp" shininess="0.5" rgba="0.2824 0.2431 0.2157 0.2"/>
        
        
		<!-- Bones -->
		<mesh file="SpineSacrum.stl"/>
		<mesh file="Urostyle.stl"/>
		<mesh file="Pelvis.stl"/>
		<mesh file="FemurL.stl" scale="0.001 0.001 0.001107"/>
		<mesh file="TibFibL.stl" scale="0.001 0.001 0.000900"/>
		<mesh file="TarsalsL.stl"/>
		<!-- mirror leg bones -->
		<mesh file="FemurL.stl" name="FemurR" scale="-0.001000 0.001000 0.001107"/>
		<mesh file="TibFibL.stl" name="TibFibR" scale="-0.001000 0.001000 0.000900"/>
		<mesh file="TarsalsL.stl" name="TarsalsR" scale="-0.001 0.001 0.001"/>
		
		<!-- Body  -->
		<mesh file="Body.stl"/>
		<mesh file="UrostyleBody.stl"/>
		<mesh file="PelvisBody.stl"/>
		<mesh file="FemurBody.stl" scale="0.001 0.001 0.001107"/>
		<mesh file="TibFibBody.stl" scale="0.001 0.001 0.000900"/>
		<mesh file="TarsalsBody.stl"/>
		<!-- mirror leg bodies -->
		<mesh file="FemurBody.stl" name="FemurBodyR" scale="-0.001000 0.001000 0.001107"/>
		<mesh file="TibFibBody.stl" name="TibFibBodyR" scale="-0.001000 0.001000 0.000900"/>
		<mesh file="TarsalsBody.stl" name="TarsalsBodyR" scale="-0.001 0.001 0.001"/>
	</asset>
	
    <default>
        <mesh scale="0.001 0.001 0.001"/>
        <site type="sphere" size="0.0003"/>
        <tendon width="0.0004" rgba="0.8 0.8 0.3 1"/>
        <joint limited="false" damping="0.0000005" range="-180 180"/>
        
        <geom contype="0" conaffinity="0" group="0"/>
        
        <default class="target">
            <geom density="1060" rgba="0.1 0.2 0.6 0.4" contype="4" conaffinity="4" group="1"
                solimp="0.9 0.95 0.001" solref="0.02 1"/>
            <joint type="free" damping="0.00001" limited="false"/>
            <!-- solimp="0.9 0.99 0.0001" solref="0.05 1.2" -->
            <equality solimp="0.5 0.9 0.0001" solref="0.05 1.2"/>
        </default>
        
        <default class="bone">
            <geom density="1750" rgba=".89 .855 .788 1" contype="0" conaffinity="0" group="0"/>
        </default>
        
        <default class="body"> <!-- rgba="0.1 0.2 0.6 0.4" -->
            <geom density="1060" material="mat_skin" contype="2" conaffinity="2" group="1"
                solimp="0.9 0.95 0.001" solref="0.02 1"/>
                
            <default class="tmt">
                <joint type="ball" limited="true" range="0 90" springdamper="0.05 1"/>
                <geom material="mat_skin_plain"/>
            </default>
            
            <default class="toes">
                <joint type="hinge" axis="0 1 0" limited="true"
                    range="-90 90" springdamper="0.05 1"/> <!--stiffness="0.0001" damping="0.00001"-->
                <geom solimp="0.96 0.99 0.0001" solref="0.005 1"
                    friction="1 0.005 0.0001" material="mat_skin_plain"/>
            </default>
            
        </default>
        
        <default class="wrap">
            <geom rgba="0.6 0.1 0.1 0" group="2"/>
            <site rgba="0.6 0.1 0.1 0" size="0.0001"/>
        </default>
        
        <default class="highlight">
            <geom rgba="1 1 1 0.2" group="2"/>
            <site rgba="1 1 1 0.2" size="0.0005"/>
        </default>
        
        
        <!-- defaults for muscles -->
        <default class="m_LD"> <!-- bright blue -->
            <site rgba="0 0 1 1"/>
            <tendon rgba="0 0 1 1"/>
        </default>
        <default class="m_IL"> <!-- bright yellow -->
            <site rgba="1 1 0 1"/>
            <tendon rgba="1 1 0 1"/>
        </default>
        <default class="m_CI">
            <site rgba="0 0.4 0 1"/> <!-- dark green -->
            <tendon rgba="0 0.4 0 1"/>
        </default>
        <default class="m_CS">
            <site rgba="0 1 0 1"/> <!-- bright green -->
            <tendon rgba="0 1 0 1"/>
        </default>
        <default class="m_II"> <!-- orange -->
            <site rgba="0.9 0.6 0.2 1"/>
            <tendon rgba="0.9 0.6 0.2 1"/>
        </default>
        <default class="m_IE"> <!-- bright red -->
            <site rgba="0.8 0 0 1"/>
            <tendon rgba="0.8 0 0 1"/>
        </default>
        <default class="m_CR"> <!-- purple -->
            <site rgba="0.4 0 0.4 1"/>
            <tendon rgba="0.4 0 0.4 1"/>
        </default>
        <default class="m_SM"> <!-- yellow -->
            <site rgba="1 0.9 0 1"/>
            <tendon rgba="1 0.9 0 1"/>
        </default>
        <default class="m_GR"> <!-- dark grey -->
            <site rgba="0.2 0.2 0.2 1"/>
            <tendon rgba="0.2 0.2 0.2 1"/>
        </default>
        <default class="m_GL"> <!-- neon pink -->
            <site rgba="1 0.2 0.6 0"/>
            <tendon rgba="1 0.2 0.6 0"/>
        </default>
        <default class="m_ST"> <!-- green -->
            <site rgba="0 0.8 0 1"/>
            <tendon rgba="0 0.8 0 1"/>
        </default>
        <default class="m_AM"> <!-- pastel green -->
            <site rgba="0.8 1 0.6 0"/>
            <tendon rgba="0.8 1 0.6 0"/>
        </default>
        <default class="m_AL"> <!-- pastel pink -->
            <site rgba="1 0.8 0.9 0"/>
            <tendon rgba="1 0.8 0.9 0"/> 
        </default>
        <default class="m_SA"> <!-- dark red -->
            <site rgba="0.6 0 0 1"/>
            <tendon rgba="0.6 0 0 1"/>
        </default>
        <default class="m_IFB"> <!-- light blue -->
            <site rgba="0.4 0.7 1 0"/>
            <tendon rgba="0.4 0.7 1 0"/>
        </default>
        <default class="m_IFM"> <!-- dark blue -->
            <site rgba="0 0 0.8 1"/>
            <tendon rgba="0 0 0.8 1"/>
        </default>
        <default class="m_PY"> <!-- pastel yellow -->
            <site rgba="1 1 0.6 1"/>
            <tendon rgba="1 1 0.6 1"/>
        </default>
        <default class="m_GE"> <!-- pastel blue -->
            <site rgba="0.8 0.8 1 1"/>
            <tendon rgba="0.8 0.8 1 1"/>
        </default>
        <default class="m_OE"> <!-- peachy -->
            <site rgba="1 0.8 0.6 1"/>
            <tendon rgba="1 0.8 0.6 1"/>
        </default>
        <default class="m_PE"> <!-- dark blue -->
            <site rgba="0 0 0.2 1"/>
            <tendon rgba="0 0 0.2 1"/>
        </default>
        <default class="m_QF"> <!-- lilac (medium-light purple) -->
            <site rgba="0.6 0.6 1 0"/>
            <tendon rgba="0.6 0.6 1 0"/>
        </default>
        <default class="m_PL"> <!-- bright orange-->
            <site rgba="1 0.5 0 1"/>
            <tendon rgba="1 0.5 0 1"/>
        </default>
        
    </default>

    
    <contact>
        <exclude body1="Spine" body2="Urostyle"/>
        <exclude body1="Spine" body2="Pelvis"/>
        <exclude body1="Pelvis" body2="Urostyle"/>
    </contact>
    
    <!-- worldbody is the parent of every light, body, etc.
         Provides a static global reference frame -->
    <worldbody>
        <!--
        <light diffuse=".5 .5 .5" pos="0 0 0.25" dir="0 0 -1" castshadow="false"/>
        <light diffuse=".5 .5 .5" pos="0 0.25 0" dir="0 -1 0" castshadow="false"/>
        <light diffuse=".5 .5 .5" pos="0 0 -0.25" dir="0 0 1" castshadow="false"/>
        -->
        <light mode='targetbodycom' target='Spine' directional='false' castshadow="false"
            diffuse='.8 .8 .8' specular='0.3 0.3 0.3' pos='0 0 0.5' dir='0 0 -1'/>
        
        <camera name='targetSpine' pos='0.2 0.2 0.5' mode='targetbodycom' target='Spine'/>
        
        <!--
        <geom name="floor" pos="0 0 0.0005" size="0.2 0.2 .002" type="plane"
            condim="6" contype="2" conaffinity="1" group="1" solimp="0.96 0.995 0.0001" solref="0.002 1.2"/>
        -->
        
        <!-- child bodies xyaxes="1 0 0 0 0 1" -->
        <body name="Spine" pos="0 0 0">
                            
            <camera name="SpineTopCam" pos="0 0 0.075" zaxis="0 0 1" mode="track"/>
            
            
            <!-- world joint -->
            <!-- MJPRO140 -->
            <joint name="j_body" type="free" limited="false"/>
            <!-- MJPRO150
            <freejoint name="j_body"/> -->
            
            <!-- spine geometry -->        
            <geom type="mesh" mesh="SpineSacrum" class="bone"/>
            <geom type="mesh" mesh="Body" class="body"/>
            
            <geom name="left_eye" type="sphere" pos="-0.004303 -0.006643 -0.024947" size="0.002994" class="wrap" rgba="0 0.02 0.02 1"/>
            <geom name="right_eye" type="sphere" pos="0.005128 -0.006052 -0.025048" size="0.002994" class="wrap" rgba="0 0.02 0.02 1"/>

            <!-- wrapping surfaces -->
            <geom name="w_cent_sa" type="cylinder" fromto="0.002416 0.000494 -0.000679 -0.002584 0.000494 -0.000680" size="0.000500" class="wrap"/>
            <!-- sidesites for wrapping surfs -->
            <site name="w_cent_sa_side" pos="-0.000070 0.002092 -0.000675" class="wrap"/>
            <site name="w_right_sa_side" pos="0.004142 0.000685 0.000204" class="wrap"/>
            <site name="w_left_sa_side" pos="-0.004377 0.000538 0.000354" class="wrap"/>

            <!-- sites on spine -->

            <!-- LD origins -->
            <!-- left -->
            <site name="left_LD_org_med" pos="-0.000411 0.000941 -0.009775" class="m_LD"/>
            <site name="left_LD_org_med_3" pos="-0.000380 0.001279 -0.008504" class="m_LD"/>
            <site name="left_LD_org_med_2" pos="-0.000388 0.001412 -0.006355" class="m_LD"/>
            <site name="left_LD_org_med_1" pos="-0.000324 0.001265 -0.004511" class="m_LD"/>
            <site name="left_LD_org_med_0" pos="-0.000282 0.001172 -0.002481" class="m_LD"/>
            <site name="left_LD_org_lat" pos="-0.001584 0.000523 -0.009645" class="m_LD"/>
            <site name="left_LD_org_lat_3" pos="-0.001690 0.000962 -0.008561" class="m_LD"/>
            <site name="left_LD_org_lat_2" pos="-0.001613 0.001082 -0.006089" class="m_LD"/>
            <site name="left_LD_org_lat_1" pos="-0.001615 0.001081 -0.003771" class="m_LD"/>
            <site name="left_LD_org_lat_0" pos="-0.001472 0.001089 -0.001700" class="m_LD"/>
            
            <!-- right -->
            <site name="right_LD_org_med" pos="0.000292 0.000899 -0.009778" class="m_LD"/>
            <site name="right_LD_org_med_3" pos="0.000306 0.001243 -0.008529" class="m_LD"/>
            <site name="right_LD_org_med_2" pos="0.000247 0.001274 -0.006365" class="m_LD"/>
            <site name="right_LD_org_med_1" pos="0.000169 0.001215 -0.004475" class="m_LD"/>
            <site name="right_LD_org_med_0" pos="0.000177 0.001195 -0.002442" class="m_LD"/>
            <site name="right_LD_org_lat" pos="0.001515 0.000533 -0.009754" class="m_LD"/>
            <site name="right_LD_org_lat_3" pos="0.001572 0.001021 -0.008518" class="m_LD"/>
            <site name="right_LD_org_lat_2" pos="0.001462 0.001113 -0.006029" class="m_LD"/>
            <site name="right_LD_org_lat_1" pos="0.001511 0.001116 -0.003731" class="m_LD"/>
            <site name="right_LD_org_lat_0" pos="0.001505 0.001159 -0.001645" class="m_LD"/>
            
            <!-- Iliolumbaris origins -->
            <!-- left -->
            <site name="left_IL_org_0" pos="-0.002752 0.000500 -0.002869" class="m_IL"/>
            <site name="left_IL_org_1" pos="-0.002677 0.000407 -0.005083" class="m_IL"/>
            <site name="left_IL_org_2" pos="-0.002691 0.000269 -0.007258" class="m_IL"/>
            <site name="left_IL_org_3" pos="-0.002538 0.000150 -0.009341" class="m_IL"/>
            
            <!-- right -->
            <site name="right_IL_org_0" pos="0.002557 0.000561 -0.002906" class="m_IL"/>
            <site name="right_IL_org_1" pos="0.002421 0.000300 -0.005002" class="m_IL"/>
            <site name="right_IL_org_2" pos="0.002387 0.000059 -0.007314" class="m_IL"/>
            <site name="right_IL_org_3" pos="0.002377 0.000252 -0.009561" class="m_IL"/>
            
            <!-- Iliolumbaris insertions -->
            <site name="left_IL_ins_med" pos="-0.002801 0.001250 0.000945" class="m_IL"/>
            <site name="right_IL_ins_med" pos="0.002928 0.001646 0.001023" class="m_IL"/>
            
            
            <!-- CS insertions -->
            <site name="left_CS_ins_med" pos="-0.000350 0.001003 -0.000812" class="m_CS"/>
            <site name="left_CS_ins_lat" pos="-0.003233 0.001271 0.001403" class="m_CS"/>
            <site name="right_CS_ins_med" pos="0.000397 0.000883 -0.000907" class="m_CS"/>
            <site name="right_CS_ins_lat" pos="0.003427 0.001537 0.001351" class="m_CS"/>
            
            
            
            
            <!-- UROSTYLE -->
            <body name="Urostyle" pos="0.000000 -0.000000 -0.000000">
                
                
                <!-- urostyle-spine joint
                <joint name="j_urostyle" pos="0.000000 0.000000 -0.000000" type="ball"/> -->
				<joint name="j_urostyleX" pos="0.000000 0.000000 -0.000000" type="hinge" axis="1 0 0" limited="true" range="-0.05 20"/>
				<joint name="j_urostyleY" pos="0.000000 0.000000 -0.000000" type="hinge" axis="0 1 0" limited="true" range="-2.5 2.5"/>
                
                <!-- urostyle geometry -->
                <geom type="mesh" mesh="Urostyle" class="bone"/>
                <!-- <geom type="mesh" mesh="UrostyleBody" class="body"/> -->
                
                <!-- sites on urostyle -->
                
                <!-- CS origins -->
                <site name="prox_CS_org_dors" pos="-0.000000 0.000575 0.000375" class="m_CS"/>
                <!-- left -->
                <site name="left_CS_org_dist_dist" pos="-0.000128 0.001109 0.009116" class="m_CS"/>
                <!-- right -->
                <site name="right_CS_org_dist_dist" pos="0.000022 0.001111 0.009126" class="m_CS"/>
      
                
                <!-- CI origins -->
                <site name="vent_CI_org_dist" class="m_CI"/>
                <!-- left -->
                <site name="left_CI_org_prox" pos="-0.000697 0.000153 0.002365" class="m_CI"/>
                <site name="left_CI_org_mid" pos="-0.000513 0.000296 0.007636" class="m_CI"/>
                <site name="left_CI_org_dist" pos="-0.000376 0.000046 0.014767" class="m_CI"/>
                <!-- right -->
                <site name="right_CI_org_prox" pos="0.000511 0.000192 0.002436" class="m_CI"/>
                <site name="right_CI_org_mid" pos="0.000288 0.000271 0.007586" class="m_CI"/>
                <site name="right_CI_org_dist" pos="0.000290 -0.000006 0.014808" class="m_CI"/>
                
               
                <!-- LD insertions -->
                <site name="left_LD_ins" pos="-0.000149 0.001423 0.005669" class="m_LD"/>
                <site name="right_LD_ins" pos="0.000013 0.001405 0.005676" class="m_LD"/>
                
                
                <!-- PY origin -->
                <site name="left_PY_org" pos="-0.000326 0.000037 0.014818" class="m_PY"/>
                
                
            </body>
            
            
            <body name="Pelvis" pos="0.000000 -0.000112 0.018203">
                
                <!-- Iliosacral joint
				<joint name="j_IS" pos="-0.000028 0.001220 -0.017571" type="ball"/> -->
				<joint name="j_ISX" pos="-0.000028 0.001220 -0.017571" type="hinge" axis="1 0 0" limited="true" range="-5 20"/>
				<joint name="j_ISY" pos="-0.000028 0.001220 -0.017571" type="hinge" axis="0 1 0" limited="true" range="-10 10"/> 
                
                
                <!-- pelvis geometry -->
                <geom type="mesh" mesh="Pelvis" class="bone"/>
                <geom type="mesh" mesh="PelvisBody" class="body"/>
                
                
                <!-- wrapping surfaces -->
                <geom name="w_right_sa" type="sphere" pos="0.003548 0.001191 -0.017541" size="0.000837" class="wrap"/>
                <geom name="w_left_sa" type="sphere" pos="-0.003647 0.001020 -0.017549" size="0.000857" class="wrap"/>
                <geom name="w_left_IE_old" type="sphere" pos="-0.001802 -0.002262 -0.004446" size="0.002155" class="wrap"/>
                <geom name="w_left_ilium_dist" type="cylinder" fromto="-0.002725 0.000715 -0.006538 0.000660 -0.002592 -0.001284" size="0.000360" class="wrap"/>
                <geom name="w_left_ilium_prox" type="cylinder" fromto="-0.002392 0.000282 -0.006592 -0.001129 -0.000666 -0.003602" size="0.000360" class="wrap"/>
                <geom name="w_left_AL_cyl" type="cylinder" fromto="-0.002667 0.003436 -0.004834 -0.000079 -0.008234 -0.000168" size="0.001506" class="wrap"/>
                <site name="w_left_AL_side" pos="-0.002028 -0.003550 -0.003882" class="wrap"/>
                <geom name="w_left_PY" type="cylinder" fromto="-0.001950 0.000576 -0.004081 -0.000686 -0.000373 -0.001091" size="0.000360" class="wrap"/>
                <site name="w_left_PY_side" pos="-0.002267 0.001562 -0.001618" class="wrap"/>
                <geom name="w_left_IE" type="sphere" pos="-0.002264 -0.001716 -0.003835" size="0.001123" class="wrap"/>

                
                <!-- sites on pelvis -->
                
                <!-- IL insertions -->
                <site name="left_IL_ins_lat" pos="-0.004310 0.000545 -0.017188" class="m_IL"/>
                <site name="right_IL_ins_lat" pos="0.004214 0.000750 -0.017188" class="m_IL"/>
                
                <!-- CI insertions -->
                <site name="left_CI_ins_prox" pos="-0.003512 0.000556 -0.018075" class="m_CI"/>
                <site name="left_CI_ins_mid" pos="-0.003359 0.001336 -0.013997" class="m_CI"/>
                <site name="left_CI_ins_dist" pos="-0.002639 0.000920 -0.008643" class="m_CI"/>
                <site name="right_CI_ins_prox" pos="0.003422 0.000830 -0.018123" class="m_CI"/>
                <site name="right_CI_ins_mid" pos="0.003350 0.001329 -0.014069" class="m_CI"/>
                <site name="right_CI_ins_dist" pos="0.002759 0.000796 -0.008715" class="m_CI"/>
                
                <!-- II origins -->
                <site name="left_II_org_prox" pos="-0.002161 0.000973 -0.005493" class="m_II"/>
                <site name="left_II_org_dist" pos="-0.001659 0.000666 -0.003640" class="m_II"/>
                <!-- II vias -->
                <site name="left_II_via_prox" pos="-0.002401 -0.000279 -0.006207" class="m_II"/>
                <site name="left_II_via_dist" pos="-0.001671 -0.001184 -0.003551" class="m_II"/>
                
                
                <!-- IE origins -->
                <site name="left_IE_org" pos="-0.004138 0.001220 -0.014276" class="m_IE"/>
                <site name="left_IE_org_dist" pos="-0.001669 -0.000357 -0.002915" class="m_IE"/>
                <!-- IE via
                <site name="left_IE_via" class="m_IE"/> -->
                
                
                <!-- CR origin -->
                <site name="left_CR_org" pos="-0.001495 -0.000898 -0.004434" class="m_CR"/>
                
                
                <!-- SM origin -->
                <site name="left_SM_org" pos="-0.000494 -0.000317 0.000236" class="m_SM"/>
                
                
                <!-- GR origin -->
                <site name="left_GR_org" pos="-0.000285 -0.001566 0.001104" class="m_GR"/>
                
                
                <!-- GL origin -->
                <site name="left_GL_org" pos="-0.002017 0.000771 -0.004190" class="m_GL"/>
                
                
                <!-- ST origins -->
                <site name="left_ST_org_dors" pos="-0.000491 -0.001403 -0.000002" class="m_ST"/>
                <site name="left_ST_org_vent" pos="-0.000468 -0.002948 -0.000433" class="m_ST"/>
                
                
                <!-- AM origins -->
                <site name="left_AM_org_crv" pos="-0.000243 -0.002547 0.000699" class="m_AM"/>
                <site name="left_AM_org_str" pos="-0.000094 -0.003931 -0.002775" class="m_AM"/>
				
				
				<!-- AL origins -->
				<site name="left_AL_org" pos="-0.000208 -0.002101 -0.004985" class="m_AL"/>
                
                
				<!-- SA origins -->
				<site name="left_SA_org" pos="-0.000297 -0.002480 -0.004795" class="m_SA"/>
				
                <!-- IFB origin -->
                <site name="left_IFB_org" pos="-0.001986 0.000626 -0.003488" class="m_IFB"/>
                
                <!-- IFM origin -->
                <site name="left_IFM_org" pos="-0.001494 0.000202 -0.002687" class="m_IFM"/>
                
                <!-- OE origin -->
                <site name="left_OE_org" pos="-0.000294 -0.003429 -0.003696" class="m_OE"/>
                
                <!-- PE origin -->
                <site name="left_PE_org" pos="-0.000329 -0.002370 -0.004853" class="m_PE"/>
                
                <!-- QF origin -->
                <site name="left_QF_org" pos="-0.000509 -0.000953 -0.000041" class="m_QF"/>
			
				
                
                <!-- FEMUR Left -->
                <body name="FemurL" pos="-0.001796 -0.002014 -0.002292" >
                            
                    <camera name="HipTopCam" pos="0 0 0.05" zaxis="0 0 1" mode="track"/>
                    
                    
                    <!-- HIP JOINT -->
                    <joint name="j_hipL" pos="0.000000 0.000000 -0.000000" type="ball"/> <!--
                    <joint name="j_hipLX" pos="0.000000 0.000000 -0.000000" type="hinge" axis="1 0 0" range="-170 170"/>
                    <joint name="j_hipLY" pos="0.000000 0.000000 -0.000000" type="hinge" axis="0 1 0" range="-160 5"/>
                    <joint name="j_hipLZ" pos="0.000000 0.000000 -0.000000" type="hinge" axis="0 0 1" range="-170 170"/> -->
                    
                    
                    <!-- femur geometry -->
                    <geom type="mesh" mesh="FemurL" class="bone"/>
                    <geom type="mesh" mesh="FemurBody" class="body"/>
                    
                    
                    <!-- wrapping surfaces -->
                    <geom name="w_left_femur" type="cylinder" fromto="0.000066 -0.000336 -0.000568 -0.000758 -0.000080 0.019942" size="0.000650" class="wrap"/>
                    <geom name="w_left_femur_prox" type="cylinder" fromto="0.000026 0.000302 -0.001179 0.000096 -0.000573 0.004906" size="0.000650" class="wrap"/>
                    <site name="w_left_femur_prox_side" pos="0.000361 0.000413 0.002163" class="wrap"/> 
                    <geom name="w_left_CR" type="sphere" pos="0.000269 -0.000456 0.010237" size="0.003752" class="wrap"/>
                    <site name="w_left_CR_side" pos="-0.002858 0.001453 0.011131" class="wrap"/> 
                    <geom name="w_left_SM" type="sphere" pos="0.000198 -0.000989 0.007141" size="0.003915" class="wrap"/>
                    <site name="w_left_SM_side" pos="0.004552 -0.000544 0.004182" class="wrap"/> 
                    <site name="w_left_AM_dors" pos="0.001096 0.000171 0.009620" class="wrap"/>
                    <site name="w_left_AM_vent" pos="0.000238 -0.002752 0.010787" class="wrap"/>
                    <geom name="w_left_AM" type="sphere" pos="-0.000252 -0.000053 0.009721" size="0.001962" class="wrap"/>
                    <geom name="w_left_AM_fem" type="cylinder" fromto="0.000247 -0.000355 -0.001784 -0.000676 -0.000068 0.021171" size="0.000727" class="wrap"/>
                    <site name="w_left_AM_fem_side" pos="0.000157 0.000421 0.009070" class="wrap"/>
                    <geom name="w_left_SA" type="sphere" pos="0.002735 0.000745 0.007325" size="0.006252" class="wrap"/>
                    <site name="w_left_SA_side" pos="-0.001916 -0.001764 0.006344" class="wrap"/>
                    <geom name="w_left_knee" type="cylinder" fromto="-0.000081 0.001387 0.020119 0.000080 -0.001388 0.020053" size="0.000749" class="wrap"/>
                    <site name="w_left_knee_side" pos="-0.000561 0.000102 0.020624" class="wrap"/>
                    <geom name="w_left_II" type="sphere" pos="0.002307 0.002657 0.008150" size="0.005360" class="wrap"/>
                    <site name="w_left_II_side" pos="-0.003863 -0.005437 0.007248" class="wrap"/>
                    
                
                    <!-- II insertions -->
                    <site name="left_II_ins_prox" pos="0.000096 0.000342 0.003505" class="m_II"/>
                    <site name="left_II_ins_dist" pos="-0.001039 0.000256 0.013116" class="m_II"/>
                    <site name="left_II_ins_dist_vent" pos="0.000280 -0.000173 0.010368" class="m_II"/>
                    
                    <!-- IE insertions -->
                    <site name="left_IE_ins_dist" pos="0.000424 0.000588 0.000691" class="m_IE"/>
                    
                    <!-- CR insertion -->
                    <site name="left_CR_via_vent" pos="-0.000925 -0.000106 0.018860" class="m_CR"/>
                    <site name="left_CR_via_fem" pos="0.000117 0.001261 0.018623" class="m_CR"/>
                    
                    <!-- GL insertions -->
                    <site name="left_GL_ins" pos="0.000117 0.001261 0.018623" class="m_GL"/>
                    
                    <!-- AM insertions -->
                    <site name="left_AM_ins_crv" pos="-0.000979 -0.000203 0.017659" class="m_AM"/>
                    <site name="left_AM_via_crv" pos="-0.001039 0.000256 0.013116" class="m_AM"/>
                    <site name="left_AM_ins_str" pos="-0.000218 -0.001019 0.017359" class="m_AM"/>
					
					<!-- AL insertion -->
					<site name="left_AL_ins" pos="-0.000474 -0.000920 0.017272" class="m_AL"/>
                    
                    <!-- IFM insertion -->
                    <site name="left_IFM_ins" pos="0.000434 -0.000189 0.007094" class="m_IFM"/>
                    
                    <!-- PY insertion -->
                    <site name="left_PY_ins" pos="0.000617 -0.000693 0.005904" class="m_PY"/>
                    
                    <!-- OE insertion -->
                    <site name="left_OE_ins" pos="-0.000744 -0.000766 0.012423" class="m_OE"/>
                    
                    <!-- PE insertion -->
                    <site name="left_PE_ins" pos="-0.000770 -0.000603 0.008942" class="m_PE"/>
                    
                    <!-- QF insertion -->
                    <site name="left_QF_ins" pos="0.000741 -0.000502 0.003206" class="m_QF"/>
                    
                    
                    <!-- PL origin -->
                    <site name="left_PL_org" pos="0.000566 0.001251 0.018308" class="m_PL"/>

                    
                    <!-- TibFib Left -->
                    <body name="TibFibL" pos="-0.000000 0.000000 0.020087" >
                            
                        <camera name="KneeTopCam" pos="0 0 0.05" zaxis="0 0 1" mode="track"/>
                        
                        <!-- KNEE JOINT  -->
                        <joint name="j_kneeL" pos="0.000000 0.000000 0.000000" type="ball"/> <!--
                        <joint name="j_kneeLX" pos="0.000000 0.000000 0.000000" type="hinge" axis="1 0 0" range="-180 180"/>
                        <joint name="j_kneeLY" pos="0.000000 0.000000 0.000000" type="hinge" axis="0 1 0" range="-180 180"/>
                        <joint name="j_kneeLZ" pos="0.000000 0.000000 0.000000" type="hinge" axis="0 0 1" range="-180 180"/> -->
                        
                        <!-- TibFib geometry -->
                        <geom type="mesh" mesh="TibFibL" class="bone"/>
                        <geom type="mesh" mesh="TibFibBody" class="body"/>
                        
                        <!-- wrapping surfaces -->
                        <geom name="w_left_CR_dors" type="cylinder" fromto="0.000048 0.000736 0.000285 -0.000225 0.000482 0.002676" size="0.000712" class="wrap"/>
                        <site name="w_left_CR_dors_side" pos="-0.000061 0.001090 0.001839" class="wrap"/> 
                        <geom name="w_left_IFB" type="sphere" pos="0.000340 0.000613 0.000696" size="0.000706" class="wrap"/>
                        <site name="w_left_IFB_side" pos="0.000579 0.001256 0.000849" class="wrap"/>
                        <geom name="w_left_PL" type="cylinder" fromto="-0.000175 -0.001271 0.017083 -0.000010 0.001321 0.017112" size="0.000632" class="wrap"/>
						
						
                        <!-- SM insertion -->
                        <site name="left_SM_ins" pos="0.000179 -0.000982 0.001689" class="m_SM"/>
						
						<!-- CR insertion -->
						<site name="left_CR_ins" pos="-0.000672 0.000014 0.000595" class="m_CR"/>
                        <site name="left_CR_via_tib" pos="0.000198 0.001417 0.000450" class="m_CR"/>
						
                        <!-- GR insertions -->
                        <site name="left_GR_ins" pos="0.000052 -0.001079 0.001568" class="m_GR"/>
                        
                        <!-- ST insertions -->
                        <site name="left_ST_ins" pos="-0.000182 -0.001051 0.002405" class="m_ST"/>
                        
                        <!-- SA insertions -->
                        <site name="left_SA_ins" pos="0.000138 -0.001341 0.001011" class="m_SA"/>
                        
                        <!-- IFB insertion -->
                        <site name="left_IFB_ins" pos="-0.000174 0.001120 0.001464" class="m_IFB"/>
                        
                        
                        <!-- PL via -->
                        <site name="left_PL_via" pos="0.000676 0.000583 0.016459" class="m_PL"/>
                        
                        
                        
                        
                        <!-- Tarsals Left -->
                        <body name="TarsalsL" pos="-0.000001 0.000001 0.017625">
                            
                            <camera name="AnkleTopCam" pos="0 0 0.05" zaxis="0 0 1" mode="track"/>
                            
                            <!-- ANKLE JOINT -->
                            <joint name="j_ankleL" pos="0.000001 -0.000000 -0.001307" type="ball"/> <!--
                            <joint name="j_ankleLX" pos="0.000001 -0.000000 -0.001307" type="hinge" axis="1 0 0" range="-180 180"/>
                            <joint name="j_ankleLY" pos="0.000001 -0.000000 -0.001307" type="hinge" axis="0 1 0" range="-180 180"/>
                            <joint name="j_ankleLZ" pos="0.000001 -0.000000 -0.001307" type="hinge" axis="0 0 1" range="-180 180"/> -->
                            
                            
                            <site name="w_left_PL_side" pos="0.001899 -0.000077 0.000093" class="wrap"/>
                            
                            <!-- Tarsals geometry -->
                            <geom type="mesh" mesh="TarsalsL" class="bone"/>
                            <geom type="mesh" mesh="TarsalsBody" class="body"/>
                            
                            
                            <!-- PL insertion -->
                            <site name="left_PL_ins" pos="0.000417 0.001049 0.008338" class="m_PL"/>
                            
                            <!-- End of tarsals -->
                            <site name="TarsalsLZ" pos="-0.000000 0.000000 0.009812"/>
                            
                            
                            <body name="FootL" pos="0 0 0.009812">
                                
                                <!-- TMT joint -->
                                <joint name="j_tmtL" class="tmt"/> <!--
                                <joint name="j_tmtLX" type="hinge" axis="1 0 0" range="-15 15"/>
                                <joint name="j_tmtLY" type="hinge" axis="0 1 0" range="-100 60"/>
                                <joint name="j_tmtLZ" type="hinge" axis="0 0 1" range="-30 30"/> -->
                                
                                <!-- 8.5mm long (Z), 5 wide (Y), 2 thick (X) -->
                                
                                <geom type="box" pos="0 0 0.00425" size="0.001 0.0015 0.00325" class="tmt"/>
                                <geom type="capsule" fromto="0 0.0015 0.001 0 0.0015 0.0075" size="0.001" class="tmt"/>
                                <geom type="capsule" fromto="0 -0.0015 0.001 0 -0.0015 0.0075" size="0.001" class="tmt"/>
                                <!-- <geom type="capsule" fromto="0 0.0015 0.001 0 -0.0015 0.001" size="0.001" class="body"/>
                                <geom type="capsule" fromto="0 0.0015 0.0075 0 -0.0015 0.0075" size="0.001" class="body"/> -->
                                
                                <body name="Toe1L" pos="0 0 0.0085" childclass="toes">
                                    <joint name="j_toe1L"/>
                                    <geom type="capsule" fromto="0 0.00175 0 0 0.00175 0.009" size="0.0007"/>
                                </body>
                                
                                <body name="Toe2L" pos="0 0 0.0085" childclass="toes">
                                    <joint name="j_toe2L" class="toes"/>
                                    <geom type="capsule" fromto="0 0.00025 0 0 0.00025 0.014" size="0.0007"/>
                                    <site name="s_ToeL_tip" pos="0 0.00025 0.014" size="0.0006"/>
                                </body>
                                
                                <body name="Toe3L" pos="0 0 0.0085" childclass="toes">
                                    <joint name="j_toe3L" class="toes"/>
                                    <geom type="capsule" fromto="0 -0.00125 0 0 -0.00125 0.005" size="0.0007"/>
                                </body>
                                
                            </body>
                            
                        </body>
                        
                    </body>
                    
                </body>
                
                
                
                <!-- MIRRORED LIMB -->
                
                
                <!-- Femur Right -->
                <body name="FemurR" pos="0.001796 -0.002014 -0.002292"  >
                    
                    <!-- HIP JOINT -->
                    <joint name="j_hipL_mir" pos="0.000000 0.000000 -0.000000" type="ball"/>  <!--
                    <joint name="j_hipLX_mir" pos="0.000000 0.000000 -0.000000" type="hinge" axis="1 0 0" range="-170 170"/>
                    <joint name="j_hipLY_mir" pos="0.000000 0.000000 -0.000000" type="hinge" axis="0 1 0" range="-5 160"/>
                    <joint name="j_hipLZ_mir" pos="0.000000 0.000000 -0.000000" type="hinge" axis="0 0 1" range="-170 170"/> -->
                    
                    
                    <geom type="mesh" mesh="FemurR" class="bone"/>
                    <geom type="mesh" mesh="FemurBodyR" class="body"/>
                    
                    
                    <!-- TibFib Right -->
                    <body name="TibFibR" pos="0.000000 0.000000 0.020087"  >
                        
                        <!-- KNEE JOINT -->
                        <joint name="j_kneeL_mir" pos="-0.000000 0.000000 0.000000" type="ball"/>  <!--
                        <joint name="j_kneeLX_mir" pos="-0.000000 0.000000 0.000000" type="hinge" axis="1 0 0" range="-5 5"/>
                        <joint name="j_kneeLY_mir" pos="-0.000000 0.000000 0.000000" type="hinge" axis="0 1 0" range="-170 10"/>
                        <joint name="j_kneeLZ_mir" pos="-0.000000 0.000000 0.000000" type="hinge" axis="0 0 1" range="-15 15"/> -->
                        
                        
                        <geom type="mesh" mesh="TibFibR" class="bone"/>
                        <geom type="mesh" mesh="TibFibBodyR" class="body"/>
                        
                        <!-- Tarsals Left -->
                        <body name="TarsalsR" pos="0.000001 0.000001 0.017625"  >
                            
                            <!-- ANKLE JOINT -->
                            <joint name="j_ankleL_mir" pos="-0.000001 -0.000000 -0.001307" type="ball"/> <!--
                            <joint name="j_ankleLX_mir" pos="-0.000001 -0.000000 -0.001307" type="hinge" axis="1 0 0" range="-20 20"/>
                            <joint name="j_ankleLY_mir" pos="-0.000001 -0.000000 -0.001307" type="hinge" axis="0 1 0" range="-60 100"/>
                            <joint name="j_ankleLZ_mir" pos="-0.000001 -0.000000 -0.001307" type="hinge" axis="0 0 1" range="-5 5"/> -->
                            
                            
                            <geom type="mesh" mesh="TarsalsR" class="bone"/>
                            <geom type="mesh" mesh="TarsalsBodyR" class="body"/>
                            
                            <site name="TarsalsLZ_mir" pos="0.000000 0.000000 0.009812"/>
                            
                            
                            <body name="FootR" pos="0 0 0.009812">
                                
                                <!-- TMT joint -->
                                <joint name="j_tmtR" class="tmt"/> <!--
                                <joint name="j_tmtRX" type="hinge" axis="1 0 0" range="-15 15"/>
                                <joint name="j_tmtRY" type="hinge" axis="0 1 0" range="-60 100"/>
                                <joint name="j_tmtRZ" type="hinge" axis="0 0 1" range="-30 30"/> -->
                                
                                <!-- 8.5mm long (Z), 5 wide (Y), 2 thick (X) -->
                                
                                <geom type="box" pos="0 0 0.00425" size="0.001 0.0015 0.00325" class="tmt"/> -->
                                <geom type="capsule" fromto="0 0.0015 0.001 0 0.0015 0.0075" size="0.001" class="tmt"/>
                                <geom type="capsule" fromto="0 -0.0015 0.001 0 -0.0015 0.0075" size="0.001" class="tmt"/>
                                <!-- <geom type="capsule" fromto="0 0.0015 0.001 0 -0.0015 0.001" size="0.001" class="body"/>
                                <geom type="capsule" fromto="0 0.0015 0.0075 0 -0.0015 0.0075" size="0.001" class="body"/> -->
                                
                                <body name="Toe1R" pos="0 0 0.0085" childclass="toes">
                                    <joint name="j_toe1R"/>
                                    <geom type="capsule" fromto="0 0.00175 0 0 0.00175 0.009" size="0.0007"/>
                                </body>
                                
                                <body name="Toe2R" pos="0 0 0.0085" childclass="toes">
                                    <joint name="j_toe2R"/>
                                    <geom type="capsule" fromto="0 0.00025 0 0 0.00025 0.014" size="0.0007"/>
                                    <site name="s_ToeR_tip" pos="0 0.00025 0.014" size="0.0006"/>
                                </body>
                                
                                <body name="Toe3R" pos="0 0 0.0085" childclass="toes">
                                    <joint name="j_toe3R"/>
                                    <geom type="capsule" fromto="0 -0.00125 0 0 -0.00125 0.005" size="0.0007"/>
                                </body>
                                
                            </body>
                            
                        </body>
                        
                    </body>
                    
                </body>
                
                
           
                
            </body>
            
        </body>
        
        
        <body name="Spine_copy" pos="0 0 0">
            
            <freejoint name="j_body_copy"/>
            
            <!-- spine target geometry -->
            <geom type="mesh" mesh="Body" class="target"/>
            
        </body>
        
        
        
        <!-- -0.0018 -0.0021 0.0341 -->
        <body name="KneeTargetL"  pos="-0.001796 -0.002126 0.035998">
            
            <freejoint name="j_knee_targetL"/>
            
            <!-- knee target geometry -->
            <geom type="sphere" size="0.005" class="target"/>
            
        </body>
       
        <body name="KneeTargetR"  pos="0.001796 -0.002126 0.035998">
            
            <freejoint name="j_knee_targetR"/>
            
            <!-- knee target geometry -->
            <geom type="sphere" size="0.005" class="target"/>
            
        </body>
        
        
        
        <body name="AnkleTargetL"  pos="-0.001797 -0.002125 0.053623">
            
            <freejoint name="j_ankle_targetL"/>
            
            <!-- ankle target geometry -->
            <geom type="sphere" size="0.004" class="target"/>
            
        </body>
       
        <body name="AnkleTargetR"  pos="0.001797 -0.002125 0.053623">
            
            <freejoint name="j_ankle_targetR"/>
            
            <!-- ankle target geometry -->
            <geom type="sphere" size="0.004" class="target"/>
            
        </body>
        
        
        
        <!-- -0.0018 -0.0021 0.0718 -->
        <body name="FootTargetL" pos="-0.001797 -0.002125 0.071935">
            
            <freejoint name="j_foot_targetL"/>
            
            <!-- foot target geometry -->
            <geom type="box" pos="0 0 0.007" size="0.001 0.0025 0.007" class="target"/>
            
        </body>
        
        
        <body name="FootTargetR" pos="0.001797 -0.002125 0.071935">
            
            <freejoint name="j_foot_targetR"/>
            
            <!-- foot target geometry -->
            <geom type="box" pos="0 0 0.007" size="0.001 0.0025 0.007" class="target"/>
            
        </body>
        
        
        
        
    </worldbody>
    
    <tendon>
        
        <!-- LD MUSCLE -->
        
        <!-- med/lat orgs, 1 ins... make a triangle-->
        <spatial name="t_left_LD" class="m_LD"> 
            <site site="left_LD_org_med"/>
            <site site="left_LD_org_med_3"/>
            <site site="left_LD_org_med_2"/>
            <site site="left_LD_org_med_1"/>
            <site site="left_LD_org_med_0"/>
            <geom geom="w_cent_sa" sidesite="w_cent_sa_side"/>
            <site site="left_LD_ins"/>
            <geom geom="w_cent_sa" sidesite="w_cent_sa_side"/>
            <site site="left_LD_org_lat_0"/>
            <site site="left_LD_org_lat_1"/>
            <site site="left_LD_org_lat_2"/>
            <site site="left_LD_org_lat_3"/>
            <site site="left_LD_org_lat"/>
        </spatial>
        
        <spatial name="t_right_LD" class="m_LD">
            <site site="right_LD_org_med"/>
            <site site="right_LD_org_med_3"/>
            <site site="right_LD_org_med_2"/>
            <site site="right_LD_org_med_1"/>
            <site site="right_LD_org_med_0"/>
            <geom geom="w_cent_sa" sidesite="w_cent_sa_side"/>
            <site site="right_LD_ins"/>
            <geom geom="w_cent_sa" sidesite="w_cent_sa_side"/>
            <site site="right_LD_org_lat_0"/>
            <site site="right_LD_org_lat_1"/>
            <site site="right_LD_org_lat_2"/>
            <site site="right_LD_org_lat_3"/>
            <site site="right_LD_org_lat"/>
        </spatial>
        
        
        <!-- IL MUSCLE left -->
        <spatial name="t_left_IL_0" class="m_IL">
            <site site="left_IL_ins_med"/>
            <geom geom="w_left_sa" sidesite="w_cent_sa_side"/>
            <site site="left_IL_org_0"/>
            <geom geom="w_left_sa" sidesite="w_left_sa_side"/>
            <site site="left_IL_ins_lat"/>
        </spatial>
        <spatial name="t_left_IL_1" class="m_IL">
            <site site="left_IL_ins_med"/>
            <geom geom="w_left_sa" sidesite="w_cent_sa_side"/>
            <site site="left_IL_org_1"/>
            <geom geom="w_left_sa" sidesite="w_left_sa_side"/>
            <site site="left_IL_ins_lat"/>
        </spatial>
        <spatial name="t_left_IL_2" class="m_IL">
            <site site="left_IL_ins_med"/>
            <geom geom="w_left_sa" sidesite="w_cent_sa_side"/>
            <site site="left_IL_org_2"/>
            <geom geom="w_left_sa" sidesite="w_left_sa_side"/>
            <site site="left_IL_ins_lat"/>
        </spatial>
        <spatial name="t_left_IL_3" class="m_IL">
            <site site="left_IL_ins_med"/>
            <geom geom="w_left_sa" sidesite="w_cent_sa_side"/>
            <site site="left_IL_org_3"/>
            <geom geom="w_left_sa" sidesite="w_left_sa_side"/>
            <site site="left_IL_ins_lat"/>
        </spatial>
        
        <!-- IL MUSCLE right -->
        <spatial name="t_right_IL_0" class="m_IL">
            <site site="right_IL_ins_med"/>
            <geom geom="w_right_sa" sidesite="w_cent_sa_side"/>
            <site site="right_IL_org_0"/>
            <geom geom="w_right_sa" sidesite="w_right_sa_side"/>
            <site site="right_IL_ins_lat"/>
        </spatial>
        <spatial name="t_right_IL_1" class="m_IL">
            <site site="right_IL_ins_med"/>
            <geom geom="w_right_sa" sidesite="w_cent_sa_side"/>
            <site site="right_IL_org_1"/>
            <geom geom="w_right_sa" sidesite="w_right_sa_side"/>
            <site site="right_IL_ins_lat"/>
        </spatial>
        <spatial name="t_right_IL_2" class="m_IL">
            <site site="right_IL_ins_med"/>
            <geom geom="w_right_sa" sidesite="w_cent_sa_side"/>
            <site site="right_IL_org_2"/>
            <geom geom="w_right_sa" sidesite="w_right_sa_side"/>
            <site site="right_IL_ins_lat"/>
        </spatial>
        <spatial name="t_right_IL_3" class="m_IL">
            <site site="right_IL_ins_med"/>
            <geom geom="w_right_sa" sidesite="w_cent_sa_side"/>
            <site site="right_IL_org_3"/>
            <geom geom="w_right_sa" sidesite="w_right_sa_side"/>
            <site site="right_IL_ins_lat"/>
        </spatial>
       
        
        
        <!-- CS MUSCLE left-->
        <spatial name="t_left_CS_lat" class="m_CS">
            <site site="left_CS_ins_lat"/>
            <site site="left_CS_org_dist_dist"/>
        </spatial>
        <spatial name="t_left_CS_med" class="m_CS">
            <site site="left_CS_ins_med"/>
            <site site="prox_CS_org_dors"/>
        </spatial>
        
        <!-- CS MUSCLE right-->
        <spatial name="t_right_CS_lat" class="m_CS">
            <site site="right_CS_ins_lat"/>
            <site site="right_CS_org_dist_dist"/>
        </spatial>
        <spatial name="t_right_CS_med" class="m_CS">
            <site site="right_CS_ins_med"/>
            <site site="prox_CS_org_dors"/>
        </spatial>
        
        
        <!-- CI MUSCLE left -->
        <spatial name="t_left_CI_prox" class="m_CI">
            <site site="left_CI_org_prox"/>
            <site site="left_CI_ins_prox"/>
        </spatial>
        <spatial name="t_left_CI_mid" class="m_CI">
            <site site="left_CI_org_mid"/>
            <site site="left_CI_ins_mid"/>
        </spatial>
        <spatial name="t_left_CI_dist" class="m_CI">
            <site site="left_CI_org_dist"/>
            <site site="left_CI_ins_dist"/>
        </spatial>
        
        <!-- CI MUSCLE right -->
        <spatial name="t_right_CI_prox" class="m_CI">
            <site site="right_CI_org_prox"/>
            <site site="right_CI_ins_prox"/>
        </spatial>
        <spatial name="t_right_CI_mid" class="m_CI">
            <site site="right_CI_org_mid"/>
            <site site="right_CI_ins_mid"/>
        </spatial>
        <spatial name="t_right_CI_dist" class="m_CI">
            <site site="right_CI_org_dist"/>
            <site site="right_CI_ins_dist"/>
        </spatial>
        
           
        <!-- II MUSCLE left -->
        <spatial name="t_left_II_lat" class="m_II">
            <site site="left_II_org_dist"/>
            <geom geom="w_left_ilium_dist" sidesite="right_CI_ins_dist"/>
            <site site="left_II_via_dist"/>
            <geom geom="w_left_femur"/>
            <site site="left_II_ins_prox"/>
        </spatial>
        
        <spatial name="t_left_II_med" class="m_II">
            <site site="left_II_org_prox"/>
            <geom geom="w_left_ilium_prox" sidesite="right_CI_ins_dist"/>
            <site site="left_II_via_prox"/>
            <geom geom="w_left_II" sidesite="w_left_II_side"/>
            <site site="left_II_ins_dist"/>
        </spatial>
        
        
        
        <!-- IE MUSCLE left -->
        <spatial name="t_left_IE_prox" class="m_IE">
            <site site="left_IE_org"/>
            <geom geom="w_left_IE"/>
            <site site="left_IE_ins_dist"/>
        </spatial>
        <spatial name="t_left_IE_dist" class="m_IE">
            <site site="left_IE_org_dist"/>
            <geom geom="w_left_femur_prox" sidesite="w_left_femur_prox_side"/>
            <site site="left_IE_ins_dist"/>
        </spatial>
            
        
        <!-- CR MUSCLE left -->
        <spatial name="t_left_CR_dors" class="m_CR">
            <site site="left_CR_org"/>
            <geom geom="w_left_CR" sidesite="w_left_CR_side"/>
            <site site="left_CR_via_fem"/>
            <site site="left_CR_via_tib"/>
            <site site="left_CR_ins"/>
        </spatial>
		
		<spatial name="t_left_CR_vent" class="m_CR">
			<site site="left_CR_org"/>
			<geom geom="w_left_CR" sidesite="w_left_CR_side"/>
			<site site="left_CR_via_vent"/>
			<geom geom="w_left_knee" sidesite="w_left_knee_side"/>
			<site site="left_CR_ins"/>
		</spatial>
		
		
		
        <!-- SM MUSCLE left -->
        <spatial name="t_left_SM" class="m_SM">
            <site site="left_SM_org"/>
            <geom geom="w_left_SM" sidesite="w_left_SM_side"/>
            <site site="left_SM_ins"/>
        </spatial>
        
        
        <!-- ST MUSCLE left -->
        <spatial name="t_left_ST_vent" class="m_ST">
            <site site="left_ST_org_vent"/>
            <geom geom="w_left_SM" sidesite="w_left_SM_side"/>
            <site site="left_ST_ins"/>
        </spatial>
        <spatial name="t_left_ST_dors" class="m_ST">
            <site site="left_ST_org_dors"/>
            <geom geom="w_left_SM" sidesite="w_left_SM_side"/>
            <site site="left_ST_ins"/>
        </spatial>
        
        <!-- GR MUSCLE left -->
        <spatial name="t_left_GR" class="m_GR">
            <site site="left_GR_org"/>
            <geom geom="w_left_SM" sidesite="w_left_SM_side"/>
            <site site="left_GR_ins"/>
        </spatial>
        
        <!-- GL MUSCLE left -->
        <spatial name="t_left_GL" class="m_GL">
            <site site="left_GL_org"/>
            <geom geom="w_left_CR" sidesite="w_left_CR_side"/>
            <site site="left_GL_ins"/>
        </spatial>
            
        
        
        <!-- AM MUSCLE left -->
        <spatial name="t_left_AM_crv" class="m_AM">
            <site site="left_AM_org_crv"/>
            <geom geom="w_left_AM_fem" sidesite="w_left_AM_fem_side"/>
            <site site="left_AM_via_crv"/>
            <site site="left_AM_ins_crv"/>
        </spatial>
        
        <spatial name="t_left_AM_str" class="m_AM">
            <site site="left_AM_org_str"/>
            <geom geom="w_left_AM" sidesite="w_left_AM_vent"/>
            <site site="left_AM_ins_str"/>
        </spatial>
		
		
		<!-- AL MUSCLE left -->
		<spatial name="t_left_AL" class="m_AL">
			<site site="left_AL_org"/>
			<geom geom="w_left_AL_cyl" sidesite="w_left_AL_side"/>
			<site site="left_AL_ins"/>
		</spatial>
        
        
        <!-- SA MUSCLE left -->
		<spatial name="t_left_SA" class="m_SA">
			<site site="left_SA_org"/>
			<geom geom="w_left_SA" sidesite="w_left_SA_side"/>
			<site site="left_SA_ins"/>
		</spatial>
        
        
        <!-- IFB MUSCLE left -->
        <spatial name="t_left_IFB" class="m_IFB">
            <site site="left_IFB_org"/>
			<geom geom="w_left_IFB" sidesite="w_left_IFB_side"/>
			<site site="left_IFB_ins"/>
		</spatial>
        
        <!-- IFM MUSCLE left -->
        <spatial name="t_left_IFM" class="m_IFM">
            <site site="left_IFM_org"/>
            <!--<geom geom="w_left_IFM"/>-->
			<site site="left_IFM_ins"/>
		</spatial>
        
        <!-- PY MUSCLE left -->
        <spatial name="t_left_PY" class="m_PY">
            <site site="left_PY_org"/>
            <geom geom="w_left_PY" sidesite="w_left_PY_side"/>
			<site site="left_PY_ins"/>
		</spatial>
        
        <!-- OE MUSCLE left -->
        <spatial name="t_left_OE" class="m_OE">
            <site site="left_OE_org"/>
			<site site="left_OE_ins"/>
		</spatial>
        
        <!-- PE MUSCLE left -->
        <spatial name="t_left_PE" class="m_PE">
            <site site="left_PE_org"/>
			<geom geom="w_left_AL_cyl" sidesite="w_left_AL_side"/>
			<site site="left_PE_ins"/>
		</spatial> 
        
        <!-- PL MUSCLE left -->
        <spatial name="t_left_PL" class="m_PL">
            <site site="left_PL_org"/>
            <site site="left_PL_via"/>
            <geom geom="w_left_PL" sidesite="w_left_PL_side"/>
			<site site="left_PL_ins"/>
		</spatial> 
        
    </tendon>
    
    
    <equality>
        <!-- give toes a soft joint constraint -->
        <joint joint1="j_toe1L" joint2="j_toe2L" solimp="0.2 0.9 0.1" solref="0.05 0.8"/>
        <joint joint1="j_toe2L" joint2="j_toe3L" solimp="0.2 0.9 0.1" solref="0.05 0.8"/>
        
        <joint joint1="j_toe1R" joint2="j_toe2R" solimp="0.2 0.9 0.1" solref="0.05 0.8"/>
        <joint joint1="j_toe2R" joint2="j_toe3R" solimp="0.2 0.9 0.1" solref="0.05 0.8"/>
        
        
        <weld name="weld_body" body1="Spine" body2="Spine_copy" class="target"/>
        
        
        <connect name="con_kneeL" body1="KneeTargetL" body2="TibFibL" anchor="0 0 0" class="target" active="false"/>
        <connect name="con_kneeR" body1="KneeTargetR" body2="TibFibR" anchor="0 0 0" class="target" active="false"/>
        
        
        <connect name="con_ankL" body1="AnkleTargetL" body2="TarsalsL" anchor="0 0 0" class="target" active="false"
        solimp="0.5 0.9 0.0005" solref="0.1 1"/>
        <connect name="con_ankR" body1="AnkleTargetR" body2="TarsalsR" anchor="0 0 0" class="target" active="false"
        solimp="0.5 0.9 0.0005" solref="0.1 1"/>
        
        
        <weld name="weld_footL" body1="Toe2L" body2="FootTargetL" class="target"/>
        <weld name="weld_footR" body1="Toe2R" body2="FootTargetR" class="target"/>
        
    </equality>
    
    
</mujoco>
